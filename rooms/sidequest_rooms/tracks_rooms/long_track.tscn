[gd_scene load_steps=32 format=2]

[ext_resource path="res://addons/room/room.gd" type="Script" id=1]
[ext_resource path="res://addons/extended_camera_2D/camera_limit_area.gd" type="Script" id=2]
[ext_resource path="res://addons/extended_collision_polygon_2D/extended_collision_polygon_2D.gd" type="Script" id=3]
[ext_resource path="res://nodes/terrain.tscn" type="PackedScene" id=4]
[ext_resource path="res://nodes/entities/player/puppet_player.tscn" type="PackedScene" id=5]
[ext_resource path="res://nodes/state_handlers/general/on_track_handler.gd" type="Script" id=6]
[ext_resource path="res://addons/state_labels/boolean_state_label.gd" type="Script" id=7]
[ext_resource path="res://addons/state_labels/label.svg" type="Texture" id=8]
[ext_resource path="res://nodes/room_elements/helper_areas/no_respawn_area.tscn" type="PackedScene" id=9]
[ext_resource path="res://nodes/room_elements/regular_damage_area.tscn" type="PackedScene" id=10]
[ext_resource path="res://nodes/room_elements/respawn_position_setter.tscn" type="PackedScene" id=11]
[ext_resource path="res://addons/player_enter_trigger/player_enter_trigger.gd" type="Script" id=12]
[ext_resource path="res://addons/player_enter_trigger/area.svg" type="Texture" id=13]
[ext_resource path="res://addons/extended_camera_2D/camera_offset_changer.gd" type="Script" id=14]
[ext_resource path="res://addons/extended_camera_2D/area.svg" type="Texture" id=15]
[ext_resource path="res://nodes/room_elements/moving_track.tscn" type="PackedScene" id=16]
[ext_resource path="res://nodes/room_elements/on_enter_cutscene_player.tscn" type="PackedScene" id=17]
[ext_resource path="res://addons/cutscene_player/cutscene_player.gd" type="Script" id=18]
[ext_resource path="res://addons/cutscene_player/animation_player.svg" type="Texture" id=19]
[ext_resource path="res://nodes/entities/player/playable_character.tscn" type="PackedScene" id=20]
[ext_resource path="res://nodes/state_handlers/general/on_track_handler.tscn" type="PackedScene" id=21]
[ext_resource path="res://nodes/state_handlers/general/track_jumping.tscn" type="PackedScene" id=22]
[ext_resource path="res://addons/state_handler/state_handler.gd" type="Script" id=23]
[ext_resource path="res://addons/state_handler/kinematic_body_2D.svg" type="Texture" id=24]

[sub_resource type="GDScript" id=1]

script/source = "extends \"res://addons/state_handler/state_handler.gd\"

export var jump_height = 64 * 4

func get_jump_height():
	return jump_height

func enter_state(previous_state):
	get_parent().set_velocity(Vector2(get_parent().get_velocity().x, PHYSICS_HELPER.calculate_jump_starting_velocity_y(get_jump_height(), get_parent().get_gravity_vector().y)))
		
func process_state(delta):
	if(get_parent().track_manager.is_on_track()):
		get_parent().set_state(\"ON_TRACK\")
	elif(get_parent().is_grounded()):
		get_parent().set_state(\"STANDING\")
		print(\"STAND WHY\")
		print(get_parent().track_manager.is_on_track())
	if(not get_parent().is_action_pressed(\"jump\") and get_parent().get_velocity().y < 0):
		get_parent().set_velocity(Vector2(get_parent().get_velocity().x, 0))
	elif(get_parent().is_action_pressed(\"play_left\")):
		get_parent().set_velocity(get_parent().get_velocity() - Vector2(delta * 64 * 3, 0))
	elif(get_parent().is_action_pressed(\"play_right\")):
		get_parent().set_velocity(get_parent().get_velocity() + Vector2(delta * 64 * 3, 0))"

[sub_resource type="GDScript" id=2]

script/source = "extends \"res://addons/state_handler/state_handler.gd\"

export var speed = 64 * 2

func process_state(delta):
	
	if(Input.is_action_pressed(\"play_up\")):
		get_parent().position.y -= speed * delta
	if(Input.is_action_pressed(\"play_down\")):
		get_parent().position.y += speed * delta
	
	if(Input.is_action_pressed(\"play_right\")):
		get_parent().position.x += speed * delta
	
	if(Input.is_action_pressed(\"play_left\")):
		get_parent().position.x -= speed * delta"

[sub_resource type="GDScript" id=3]

script/source = "extends Camera2D

export var velocity = Vector2()

func _physics_process(delta):
	if(current):
		position += velocity * delta"

[sub_resource type="RectangleShape2D" id=4]

custom_solver_bias = 0.0
extents = Vector2( 64, 416 )

[sub_resource type="RectangleShape2D" id=5]

custom_solver_bias = 0.0
extents = Vector2( 32, 32 )

[sub_resource type="RectangleShape2D" id=6]

custom_solver_bias = 0.0
extents = Vector2( 320, 32 )

[sub_resource type="Animation" id=7]

length = 10.0
loop = false
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("player/ExtendedCamera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.05, 2 ),
"transitions": PoolRealArray( 0, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 640, 0 ), Vector2( 768, 0 ) ]
}

[node name="Room" type="Node2D" index="0"]

script = ExtResource( 1 )
dark = false
dark_color = Color( 0, 0, 0, 1 )
auto_generate_camera_limiter = true

[node name="AutoGeneratedCameraLimitArea" type="Area2D" parent="." index="0"]

editor/display_folded = true
visible = false
input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"
script = ExtResource( 2 )
simple = true
can_zoom_out = false
custom_container = null

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="AutoGeneratedCameraLimitArea" index="0"]

build_mode = 0
polygon = PoolVector2Array( -1024, 0, -1024, 960, 14976, 960, 14976, 0 )
script = ExtResource( 3 )

[node name="terrain" parent="." index="1" instance=ExtResource( 4 )]

tile_data = PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 17, 0, 0, 18, 0, 0, 19, 0, 0, 20, 0, 0, 21, 0, 0, 22, 0, 0, 23, 0, 0, 24, 0, 0, 25, 0, 0, 26, 0, 0, 27, 0, 0, 28, 0, 0, 29, 0, 0, 30, 0, 0, 31, 0, 0, 32, 0, 0, 33, 0, 0, 34, 0, 0, 35, 0, 0, 36, 0, 0, 37, 0, 0, 38, 0, 0, 39, 0, 0, 40, 0, 0, 41, 0, 0, 42, 0, 0, 43, 0, 0, 44, 0, 0, 45, 0, 0, 46, 0, 0, 47, 0, 0, 48, 0, 0, 49, 0, 0, 50, 0, 0, 51, 0, 0, 52, 0, 0, 53, 0, 0, 54, 0, 0, 55, 0, 0, 56, 0, 0, 57, 0, 0, 58, 0, 0, 59, 0, 0, 60, 0, 0, 61, 0, 0, 62, 0, 0, 63, 0, 0, 64, 0, 0, 65, 0, 0, 66, 0, 0, 67, 0, 0, 68, 0, 0, 69, 0, 0, 70, 0, 0, 71, 0, 0, 72, 0, 0, 73, 0, 0, 74, 0, 0, 75, 0, 0, 76, 0, 0, 77, 0, 0, 78, 0, 0, 79, 0, 0, 80, 0, 0, 81, 0, 0, 82, 0, 0, 83, 0, 0, 84, 0, 0, 85, 0, 0, 86, 0, 0, 87, 0, 0, 88, 0, 0, 89, 0, 0, 90, 0, 0, 91, 0, 0, 92, 0, 0, 93, 0, 0, 94, 0, 0, 95, 0, 0, 96, 0, 0, 97, 0, 0, 98, 0, 0, 99, 0, 0, 100, 0, 0, 101, 0, 0, 102, 0, 0, 103, 0, 0, 104, 0, 0, 105, 0, 0, 106, 0, 0, 107, 0, 0, 108, 0, 0, 109, 0, 0, 110, 0, 0, 111, 0, 0, 112, 0, 0, 113, 0, 0, 114, 0, 0, 115, 0, 0, 116, 0, 0, 117, 0, 0, 118, 0, 0, 119, 0, 0, 120, 0, 0, 121, 0, 0, 122, 0, 0, 123, 0, 0, 124, 0, 0, 125, 0, 0, 126, 0, 0, 127, 0, 0, 128, 0, 0, 129, 0, 0, 130, 0, 0, 131, 0, 0, 132, 0, 0, 133, 0, 0, 134, 0, 0, 135, 0, 0, 136, 0, 0, 137, 0, 0, 138, 0, 0, 139, 0, 0, 140, 0, 0, 141, 0, 0, 142, 0, 0, 143, 0, 0, 144, 0, 0, 145, 0, 0, 146, 0, 0, 147, 0, 0, 148, 0, 0, 149, 0, 0, 150, 0, 0, 151, 0, 0, 152, 0, 0, 153, 0, 0, 154, 0, 0, 155, 0, 0, 156, 0, 0, 157, 0, 0, 158, 0, 0, 159, 0, 0, 160, 0, 0, 161, 0, 0, 162, 0, 0, 163, 0, 0, 164, 0, 0, 165, 0, 0, 166, 0, 0, 167, 0, 0, 168, 0, 0, 169, 0, 0, 170, 0, 0, 171, 0, 0, 172, 0, 0, 173, 0, 0, 174, 0, 0, 175, 0, 0, 176, 0, 0, 177, 0, 0, 178, 0, 0, 179, 0, 0, 180, 0, 0, 181, 0, 0, 182, 0, 0, 183, 0, 0, 184, 0, 0, 185, 0, 0, 186, 0, 0, 187, 0, 0, 188, 0, 0, 189, 0, 0, 190, 0, 0, 191, 0, 0, 192, 0, 0, 193, 0, 0, 194, 0, 0, 195, 0, 0, 196, 0, 0, 197, 0, 0, 198, 0, 0, 199, 0, 0, 200, 0, 0, 201, 0, 0, 202, 0, 0, 203, 0, 0, 204, 0, 0, 205, 0, 0, 206, 0, 0, 207, 0, 0, 208, 0, 0, 209, 0, 0, 210, 0, 0, 211, 0, 0, 212, 0, 0, 213, 0, 0, 214, 0, 0, 215, 0, 0, 216, 0, 0, 217, 0, 0, 218, 0, 0, 219, 0, 0, 220, 0, 0, 221, 0, 0, 222, 0, 0, 223, 0, 0, 224, 0, 0, 225, 0, 0, 226, 0, 0, 227, 0, 0, 228, 0, 0, 229, 0, 0, 230, 0, 0, 231, 0, 0, 232, 0, 0, 233, 0, 0, 65536, 0, 0, 65769, 0, 0, 131072, 0, 0, 131305, 0, 0, 196608, 0, 0, 196841, 0, 0, 262144, 0, 0, 262377, 0, 0, 327680, 0, 0, 327913, 0, 0, 393216, 0, 0, 393449, 0, 0, 458752, 0, 0, 458985, 0, 0, 524288, 0, 0, 524521, 0, 0, 589824, 0, 0, 590057, 0, 0, 655360, 0, 0, 655411, 93, 0, 655412, 93, 0, 655593, 0, 0, 721129, 0, 0, 786665, 0, 0, 917488, 0, 0, 917489, 0, 0, 917490, 0, 0, 917491, 0, 0, 917492, 0, 0, 917493, 0, 0, 917494, 0, 0, 917495, 0, 0, 917496, 0, 0, 917497, 0, 0, 917498, 0, 0, 917499, 0, 0, 917500, 0, 0, 917501, 0, 0, 917502, 0, 0, 917503, 0, 0, 851968, 0, 0, 851969, 0, 0, 851970, 0, 0, 851971, 0, 0, 851972, 0, 0, 851973, 0, 0, 851974, 0, 0, 851975, 0, 0, 852112, 9, 0, 852113, 9, 0, 852114, 9, 0, 852201, 0, 0, 917504, 0, 0, 917505, 0, 0, 917506, 0, 0, 917507, 0, 0, 917508, 0, 0, 917509, 0, 0, 917510, 0, 0, 917511, 0, 0, 917512, 0, 0, 917513, 0, 0, 917514, 0, 0, 917515, 0, 0, 917516, 0, 0, 917517, 0, 0, 917518, 0, 0, 917519, 0, 0, 917520, 0, 0, 917521, 0, 0, 917522, 0, 0, 917523, 0, 0, 917524, 0, 0, 917525, 0, 0, 917526, 0, 0, 917527, 0, 0, 917528, 0, 0, 917529, 0, 0, 917530, 0, 0, 917531, 0, 0, 917532, 0, 0, 917533, 0, 0, 917534, 0, 0, 917535, 0, 0, 917536, 0, 0, 917537, 0, 0, 917538, 0, 0, 917539, 0, 0, 917540, 0, 0, 917541, 0, 0, 917542, 0, 0, 917543, 0, 0, 917544, 0, 0, 917545, 0, 0, 917546, 0, 0, 917547, 0, 0, 917548, 0, 0, 917549, 0, 0, 917550, 0, 0, 917551, 0, 0, 917552, 0, 0, 917553, 0, 0, 917554, 0, 0, 917555, 0, 0, 917556, 0, 0, 917557, 0, 0, 917558, 0, 0, 917559, 0, 0, 917560, 0, 0, 917561, 0, 0, 917562, 0, 0, 917563, 0, 0, 917564, 0, 0, 917565, 0, 0, 917566, 0, 0, 917567, 0, 0, 917568, 0, 0, 917569, 0, 0, 917570, 0, 0, 917571, 0, 0, 917572, 0, 0, 917573, 0, 0, 917574, 0, 0, 917575, 0, 0, 917576, 0, 0, 917577, 0, 0, 917578, 0, 0, 917579, 0, 0, 917580, 0, 0, 917581, 0, 0, 917582, 0, 0, 917583, 0, 0, 917584, 0, 0, 917585, 0, 0, 917586, 0, 0, 917587, 0, 0, 917588, 0, 0, 917589, 0, 0, 917590, 0, 0, 917591, 0, 0, 917592, 0, 0, 917593, 0, 0, 917594, 0, 0, 917595, 0, 0, 917596, 0, 0, 917597, 0, 0, 917598, 0, 0, 917599, 0, 0, 917600, 0, 0, 917601, 0, 0, 917602, 0, 0, 917603, 0, 0, 917604, 0, 0, 917605, 0, 0, 917606, 0, 0, 917607, 0, 0, 917608, 0, 0, 917609, 0, 0, 917610, 0, 0, 917611, 0, 0, 917612, 0, 0, 917613, 0, 0, 917614, 0, 0, 917615, 0, 0, 917616, 0, 0, 917617, 0, 0, 917618, 0, 0, 917619, 0, 0, 917620, 0, 0, 917621, 0, 0, 917622, 0, 0, 917623, 0, 0, 917624, 0, 0, 917625, 0, 0, 917626, 0, 0, 917627, 0, 0, 917628, 0, 0, 917629, 0, 0, 917630, 0, 0, 917631, 0, 0, 917632, 0, 0, 917633, 0, 0, 917634, 0, 0, 917635, 0, 0, 917636, 0, 0, 917637, 0, 0, 917638, 0, 0, 917639, 0, 0, 917640, 0, 0, 917641, 0, 0, 917642, 0, 0, 917643, 0, 0, 917644, 0, 0, 917645, 0, 0, 917646, 0, 0, 917647, 0, 0, 917648, 0, 0, 917649, 0, 0, 917650, 0, 0, 917651, 0, 0, 917652, 0, 0, 917653, 0, 0, 917654, 0, 0, 917655, 0, 0, 917656, 0, 0, 917657, 0, 0, 917658, 0, 0, 917659, 0, 0, 917660, 0, 0, 917661, 0, 0, 917662, 0, 0, 917663, 0, 0, 917664, 0, 0, 917665, 0, 0, 917666, 0, 0, 917667, 0, 0, 917668, 0, 0, 917669, 0, 0, 917670, 0, 0, 917671, 0, 0, 917672, 0, 0, 917673, 0, 0, 917674, 0, 0, 917675, 0, 0, 917676, 0, 0, 917677, 0, 0, 917678, 0, 0, 917679, 0, 0, 917680, 0, 0, 917681, 0, 0, 917682, 0, 0, 917683, 0, 0, 917684, 0, 0, 917685, 0, 0, 917686, 0, 0, 917687, 0, 0, 917688, 0, 0, 917689, 0, 0, 917690, 0, 0, 917691, 0, 0, 917692, 0, 0, 917693, 0, 0, 917694, 0, 0, 917695, 0, 0, 917696, 0, 0, 917697, 0, 0, 917698, 0, 0, 917699, 0, 0, 917700, 0, 0, 917701, 0, 0, 917702, 0, 0, 917703, 0, 0, 917704, 0, 0, 917705, 0, 0, 917706, 0, 0, 917707, 0, 0, 917708, 0, 0, 917709, 0, 0, 917710, 0, 0, 917711, 0, 0, 917712, 0, 0, 917713, 0, 0, 917714, 0, 0, 917715, 0, 0, 917716, 0, 0, 917717, 0, 0, 917718, 0, 0, 917719, 0, 0, 917720, 0, 0, 917721, 0, 0, 917722, 0, 0, 917723, 0, 0, 917724, 0, 0, 917725, 0, 0, 917726, 0, 0, 917727, 0, 0, 917728, 0, 0, 917729, 0, 0, 917730, 0, 0, 917731, 0, 0, 917732, 0, 0, 917733, 0, 0, 917734, 0, 0, 917735, 0, 0, 917736, 0, 0, 917737, 0, 0 )

[node name="player" parent="." index="2" instance=ExtResource( 5 )]

position = Vector2( 7936, 672 )
current_state = "STANDING"

[node name="player_light" parent="player" index="0"]

editor/display_folded = true

[node name="double_jumping_handler" parent="player" index="13"]

editor/display_folded = true

[node name="wall_sliding_handler" parent="player" index="17"]

editor/display_folded = true

[node name="on_track_handler" parent="player" index="20"]

script = ExtResource( 6 )
no_gravity = false
camera_offset_time = 1

[node name="track_jumping" parent="player" index="21"]

script = SubResource( 1 )

[node name="ExtendedCamera2D" parent="player" index="23"]

drag_margin_h_enabled = false
drag_margin_left = 0.0
drag_margin_right = 0.0
editor_draw_drag_margin = true
_sections_unfolded = [ "Drag Margin", "Limit", "Offset", "Smoothing", "Transform" ]

[node name="BooleanStateLabel" type="Label" parent="player/ExtendedCamera2D" index="1"]

anchor_left = 0.0
anchor_top = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 96.0
margin_top = -64.0
margin_right = 136.0
margin_bottom = -50.0
rect_pivot_offset = Vector2( 0, 0 )
rect_clip_content = false
mouse_filter = 2
mouse_default_cursor_shape = 0
size_flags_horizontal = 1
size_flags_vertical = 4
percent_visible = 1.0
lines_skipped = 0
max_lines_visible = -1
script = ExtResource( 7 )
__meta__ = {
"_editor_icon": ExtResource( 8 )
}
node_path = NodePath("../tween_offset")
tracked_value = ""
tracked_function = "is_active"
true_value = "CAMERA_ACTIVE"
false_value = "NOT ACTIVE"

[node name="direct_control_handler" parent="player" index="30"]

script = SubResource( 2 )

[node name="CanvasModulate" type="CanvasModulate" parent="." index="3"]

color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="camera_2" type="Camera2D" parent="." index="4"]

position = Vector2( 832, 480 )
anchor_mode = 1
rotating = false
current = false
zoom = Vector2( 1, 1 )
limit_left = -10000000
limit_top = -10000000
limit_right = 10000000
limit_bottom = 10000000
limit_smoothed = false
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = false
smoothing_speed = 5.0
offset_v = 0.0
offset_h = 0.0
drag_margin_left = 0.2
drag_margin_top = 0.2
drag_margin_right = 0.2
drag_margin_bottom = 0.2
editor_draw_screen = true
editor_draw_limits = false
editor_draw_drag_margin = false
script = SubResource( 3 )
velocity = Vector2( 512, 0 )

[node name="no_respawn_area" parent="." index="5" instance=ExtResource( 9 )]

editor/display_folded = true
visible = false
position = Vector2( 32, 32 )

[node name="CollisionPolygon2D" parent="no_respawn_area" index="0"]

polygon = PoolVector2Array( -32, -32, -32, 928, 12064, 928, 12064, -32 )

[node name="section_1" type="Node2D" parent="." index="6"]

[node name="damage_area9" parent="section_1" index="0" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 8480, 416 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area9/Area2D" index="0"]

polygon = PoolVector2Array( 32, -352, -32, -352, -32, 160, 32, 160 )

[node name="TemporarySprite" parent="section_1/damage_area9" index="1"]

margin_top = -352.0
margin_bottom = 160.0

[node name="Sprite" parent="section_1/damage_area9/TemporarySprite" index="0"]

position = Vector2( 32, 256 )
scale = Vector2( 1, 2 )

[node name="damage_area8" parent="section_1" index="1" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 7840, 416 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area8/Area2D" index="0"]

polygon = PoolVector2Array( 32, -352, -32, -352, -32, 96, 32, 96 )

[node name="TemporarySprite" parent="section_1/damage_area8" index="1"]

margin_top = -352.0
margin_bottom = 96.0

[node name="Sprite" parent="section_1/damage_area8/TemporarySprite" index="0"]

position = Vector2( 32, 224 )
scale = Vector2( 1, 1.75 )

[node name="damage_area6" parent="section_1" index="2" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 7200, 416 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area6/Area2D" index="0"]

polygon = PoolVector2Array( 32, -352, -32, -352, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area6" index="1"]

margin_top = -352.0

[node name="Sprite" parent="section_1/damage_area6/TemporarySprite" index="0"]

position = Vector2( 32, 192 )
scale = Vector2( 1, 1.5 )

[node name="damage_area7" parent="section_1" index="3" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 8476.75, 936.651 )
respawn_entity = true

[node name="damage_area5" parent="section_1" index="4" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 7840, 800 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area5/Area2D" index="0"]

polygon = PoolVector2Array( 32, -96, -32, -96, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area5" index="1"]

margin_top = -96.0

[node name="Sprite" parent="section_1/damage_area5/TemporarySprite" index="0"]

position = Vector2( 32, 64 )
scale = Vector2( 1, 0.5 )

[node name="damage_area4" parent="section_1" index="5" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 7200, 800 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area4/Area2D" index="0"]

polygon = PoolVector2Array( 32, -160, -32, -160, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area4" index="1"]

margin_top = -160.0

[node name="Sprite" parent="section_1/damage_area4/TemporarySprite" index="0"]

position = Vector2( 32, 96 )
scale = Vector2( 1, 0.75 )

[node name="damage_area3" parent="section_1" index="6" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 6272, 800 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area3/Area2D" index="0"]

polygon = PoolVector2Array( 32, -160, -32, -160, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area3" index="1"]

margin_top = -160.0

[node name="Sprite" parent="section_1/damage_area3/TemporarySprite" index="0"]

position = Vector2( 32, 96 )
scale = Vector2( 1, 0.75 )

[node name="damage_area2" parent="section_1" index="7" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 5600, 800 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area2/Area2D" index="0"]

polygon = PoolVector2Array( 32, -160, -32, -160, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area2" index="1"]

margin_top = -160.0

[node name="Sprite" parent="section_1/damage_area2/TemporarySprite" index="0"]

position = Vector2( 32, 96 )
scale = Vector2( 1, 0.75 )

[node name="damage_area" parent="section_1" index="8" instance=ExtResource( 10 )]

editor/display_folded = true
position = Vector2( 4128, 800 )
respawn_entity = true

[node name="CollisionPolygon2D" parent="section_1/damage_area/Area2D" index="0"]

polygon = PoolVector2Array( 32, -160, -32, -160, -32, 32, 32, 32 )

[node name="TemporarySprite" parent="section_1/damage_area" index="1"]

margin_top = -160.0

[node name="Sprite" parent="section_1/damage_area/TemporarySprite" index="0"]

position = Vector2( 32, 96 )
scale = Vector2( 1, 0.75 )

[node name="respawn_position_setter3" parent="section_1" index="9" instance=ExtResource( 11 )]

editor/display_folded = true
position = Vector2( 6656, 608 )
position_path = NodePath("respawn_position_1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="section_1/respawn_position_setter3" index="0"]

position = Vector2( 0, -128 )
shape = SubResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="respawn_position_1" type="Position2D" parent="section_1/respawn_position_setter3" index="1"]

position = Vector2( 0, -64 )

[node name="respawn_position_setter2" parent="section_1" index="10" instance=ExtResource( 11 )]

editor/display_folded = true
position = Vector2( 4992, 608 )
position_path = NodePath("respawn_position_1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="section_1/respawn_position_setter2" index="0"]

position = Vector2( 0, -128 )
shape = SubResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="respawn_position_1" type="Position2D" parent="section_1/respawn_position_setter2" index="1"]

position = Vector2( 0, -64 )

[node name="respawn_position_setter" parent="section_1" index="11" instance=ExtResource( 11 )]

editor/display_folded = true
position = Vector2( 3328, 608 )
position_path = NodePath("respawn_position_1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="section_1/respawn_position_setter" index="0"]

position = Vector2( 0, -128 )
shape = SubResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="respawn_position_1" type="Position2D" parent="section_1/respawn_position_setter" index="1"]

position = Vector2( 0, -64 )

[node name="PlayerEnterTrigger" type="Area2D" parent="section_1" index="12"]

editor/display_folded = true
position = Vector2( 96, 192 )
input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"
script = ExtResource( 12 )
__meta__ = {
"_editor_icon": ExtResource( 13 )
}
enabled = true
oneshot = false
free_on_disabled = false
save_path = null
trigger_on_freed = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="section_1/PlayerEnterTrigger" index="0"]

shape = SubResource( 5 )

[node name="CameraOffsetChanger" type="Area2D" parent="section_1" index="13"]

editor/display_folded = true
position = Vector2( 832, 800 )
input_pickable = true
gravity_vec = Vector2( 0, 1 )
gravity = 98.0
linear_damp = 0.1
angular_damp = 1.0
audio_bus_override = false
audio_bus_name = "Master"
script = ExtResource( 14 )
__meta__ = {
"_editor_icon": ExtResource( 15 )
}
offset = Vector2( 640, 0 )
time = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="section_1/CameraOffsetChanger" index="0"]

position = Vector2( -512, -672 )
shape = SubResource( 6 )

[node name="moving_track" parent="section_1" index="14" instance=ExtResource( 16 )]

position = Vector2( 544, 864 )
speed = 640
length = 8704
fast_camera_offset = Vector2( 640, 0 )
applies_fast_camera_offset = true
removes_fast_camera_offset = true

[node name="section_2" type="Node2D" parent="." index="7"]

[node name="moving_track2" parent="section_2" index="0" instance=ExtResource( 16 )]

position = Vector2( 9248, 864 )
speed = 192
length = 5696
fast_camera_offset = Vector2( 384, 0 )
applies_fast_camera_offset = false
removes_fast_camera_offset = true

[node name="on_enter_cutscene_player" parent="section_2" index="1" instance=ExtResource( 17 )]

position = Vector2( 9248, 800 )

[node name="CollisionPolygon2D" parent="section_2/on_enter_cutscene_player/enter_trigger" index="0"]

polygon = PoolVector2Array( 32, -736, -32, -736, -32, 32, 32, 32 )

[node name="CutscenePlayer" type="AnimationPlayer" parent="section_2/on_enter_cutscene_player" index="1"]

root_node = NodePath("../../..")
autoplay = ""
playback_process_mode = 1
playback_default_blend_time = 0.0
playback_speed = 1.0
anims/cutscene = SubResource( 7 )
blend_times = [  ]
script = ExtResource( 18 )
__meta__ = {
"_editor_icon": ExtResource( 19 )
}
dialog_tree = null
paused = false

[node name="humans" type="Node2D" parent="section_2/on_enter_cutscene_player" index="2"]

position = Vector2( 1344, 0 )

[node name="human_1" parent="section_2/on_enter_cutscene_player/humans" index="0" instance=ExtResource( 20 )]

editor/display_folded = true
position = Vector2( 128, 0 )
action_override = true

[node name="on_track_handler" parent="section_2/on_enter_cutscene_player/humans/human_1" index="14" instance=ExtResource( 21 )]

[node name="track_jumping" parent="section_2/on_enter_cutscene_player/humans/human_1" index="15" instance=ExtResource( 22 )]

[node name="standing_handler" type="Node2D" parent="section_2/on_enter_cutscene_player/humans/human_1" index="16"]

script = ExtResource( 23 )
__meta__ = {
"_editor_icon": ExtResource( 24 )
}
handled_state = "UNDEFINED"
enabled = true
no_gravity = false

[node name="human_2" parent="section_2/on_enter_cutscene_player/humans" index="1" instance=ExtResource( 20 )]

editor/display_folded = true
position = Vector2( 224, 0 )
action_override = true

[node name="on_track_handler" parent="section_2/on_enter_cutscene_player/humans/human_2" index="14" instance=ExtResource( 21 )]

[node name="track_jumping" parent="section_2/on_enter_cutscene_player/humans/human_2" index="15" instance=ExtResource( 22 )]

[node name="standing_handler" type="Node2D" parent="section_2/on_enter_cutscene_player/humans/human_2" index="16"]

script = ExtResource( 23 )
__meta__ = {
"_editor_icon": ExtResource( 24 )
}
handled_state = "UNDEFINED"
enabled = true
no_gravity = false

[connection signal="triggered" from="section_1/PlayerEnterTrigger" to="camera_2" method="make_current"]

[connection signal="triggered" from="section_2/on_enter_cutscene_player/enter_trigger" to="section_2/on_enter_cutscene_player/humans/human_2" method="set_state" binds= [ "ON_TRACK" ]]

[connection signal="triggered" from="section_2/on_enter_cutscene_player/enter_trigger" to="section_2/on_enter_cutscene_player/humans/human_1" method="set_state" binds= [ "ON_TRACK" ]]


[editable path="player"]
[editable path="no_respawn_area"]
[editable path="section_1/damage_area9"]
[editable path="section_1/damage_area8"]
[editable path="section_1/damage_area6"]
[editable path="section_1/damage_area7"]
[editable path="section_1/damage_area5"]
[editable path="section_1/damage_area4"]
[editable path="section_1/damage_area3"]
[editable path="section_1/damage_area2"]
[editable path="section_1/damage_area"]
[editable path="section_2/on_enter_cutscene_player"]
