[gd_scene load_steps=2 format=2]

[sub_resource type="GDScript" id=1]

script/source = "extends Node

signal track_changed()

var track = null

func _ready():
	get_parent().add_to_group(\"handles_track\")
	
	get_parent().connect(\"collided_with_ground\", self, \"node_collided_with_ground\")
	
func node_collided_with_ground(ground):
	if(not is_on_track() and ground.is_in_group(\"track\")):
		ground.connect_node(get_parent())
		
		print(\"Connected this way\")
		
		print(\"1: \",is_on_track())
	print(\"YO\")
	
func set_track(p_track):
	#print(\"Track Changed: \", p_track.name)
	
	var prev = track
	
	track = p_track
	
	if(p_track != null):
		emit_signal(\"track_changed\")
	
func is_on_track():
	return track != null

func get_track():
	return track"

[node name="track_manager" type="Node2D" index="0"]

script = SubResource( 1 )


